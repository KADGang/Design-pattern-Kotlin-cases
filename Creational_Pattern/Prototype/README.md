# 原型模式

### **假装有介绍**

有时候我们需要去操作某些对象的副本，这些副本需要与原本的对象属性完全一致。最简单的情况下我们可以直接调用该对象的类的构造方法，将原来的对象属性变量一一作为参数传入构造方法。但是很多情况下对于封装好的对象，我们并不能从外部获取到该对象的完整属性比如私有变量之类，他们并不能在对象以外的地方显式可见。而且更糟糕的情况是，这个对象可能还依赖了其他的类，这时候又需要复制一个这样的依赖对象来传入参数，无异增加了代码的依赖性。这时候就可以选择让这个对象所属的类使用原型模式。

***

### **高中生物必修一！**

众所周知（前提是还记得生物必修一的知识），细胞的有丝分裂是细胞本身将自己的遗传物质等复制一份，然后再分离出去完成有丝分裂，而并非是在细胞的外部进行的复制。那么在开发过程中也可以学习这一行为：让对象本身实现一个克隆接口，调用克隆方时可以复制自身的所有变量完成副本的构造，然后再将副本通过接口返回到外部。这样的话，就算这个对象内包含很多私有变量和依赖对象，都可以直接将其放入克隆方法中进行构造。

***

### **存在的意义**

如果你所需要复制的对象本身时一个包含复杂依赖或是存在诸多私有变量时，可以让这个对象所属的类使用原型模式。

***

### **实现方式**

1. 创建原型接口，在其中声明克隆方法。

2. 让所需成为原型的类实现原型接口。

3. 在克隆方法中直接调用原型所属类的构造方法，并将所构造的新副本返回即可。

